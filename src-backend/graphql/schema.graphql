type Streamer @aws_iam @aws_lambda {
  broadcaster_id: String!
  broadcaster_name: String!
  category: String!
  title: String!
  updated: AWSDateTime!
  is_live: Boolean!
  type: String
  profile_picture: String
}

type Mutation {
  updateStreamer(
    broadcaster_id: String!
    category: String!
    title: String!
    is_live: Boolean!
    updated: AWSDateTime!
    type: String
  ): Streamer! @aws_iam
}

type Query {
  batchGetStreamers(broadcaster_ids: [String!]!): [Streamer]!
}

type Subscription {
  onUpdateStreamer(broadcaster_id: String!): Streamer! @aws_subscribe(mutations: ["updateStreamer"])
}

schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}
